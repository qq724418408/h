<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title></title>
		<script src="js/jquery.min.js"></script>
		<script src="js/music.js"></script>
		<link rel="stylesheet" href="css/music.css">
		<style>
			*{margin: 0;
			padding: 0;}
			body {
				width: 100%;
				height: 100%;
				background: #6666;
			}
			.container{
				width: 300px;
				height: 300px;
				margin: 300px auto;
				perspective: 20000px;
			}
			.box{
				width: 300px;
				height: 300px;
				border: 1px solid transparent;
				position: relative;
				box-sizing: border-box;
				transform-style: preserve-3d;
				animation: rotate 10s linear infinite;
			}
			@keyframes rotate{
				0%{
					transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg);
				}
				100%{
					transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg);
				}
			}
			.box-page{
				width: 300px;
				height: 300px;
				position: absolute;
				box-sizing: border-box;
				transform-style: preserve-3d;
			}
			.top{
				transform: translateZ(150px);
			}
			.bottom{
				transform: translateZ(-150px) rotateX(180deg);
			}
			.left{
				transform: translateX(-150px) rotateY(-90deg);
			}
			.right{
				transform: translateX(150px) rotateY(90deg);
			}
			.before{
				transform: translateY(150px) rotateX(-90deg);
			}
			.after{
				transform: translateY(-150px) rotateX(90deg);
			}
			.box-page div:nth-child(1){
				animation: a1 5.20s ease-in 0s;
			}
			.box-page div:nth-child(2){
				animation: a1 5.20s ease-in 0.5s;
			}
			.box-page div:nth-child(3){
				animation: a1 5.20s ease-in 1s;
			}
			.box-page div:nth-child(4){
				animation: a1 5.20s ease-in 1.5s;
			}
			.box-page div:nth-child(5){
				animation: a1 5.20s ease-in 2s;
			}
			.box-page div:nth-child(6){
				animation: a1 5.20s ease-in 2.5s;
			}
			.box-page div:nth-child(7){
				animation: a1 5.20s ease-in 3s;
			}
			.box-page div:nth-child(8){
				animation: a1 5.20s ease-in 3.5s;
			}
			.box-page div:nth-child(9){
				animation: a1 5.20s ease-in 3.5s;
			}
			@keyframes a1{
				/*不动*/
				0%{
					/*scale缩放比例*/
					transform: translateZ(0px) scale(1) rotateZ(0deg);
				}
				/*飞出去,飞没了*/
				20%{
					/*scale缩放比例，边飞边旋转*/
					transform: translateZ(90px) scale(0.5) rotateZ(180deg);
				}
				50%{
					transform: translateZ(180px) scale(0) rotateZ(360deg);
				}
				/*飞回来*/
				80%{
					transform: translateZ(300px) scale(0.5) rotateZ(720deg);
				}
				100%{
					transform: translateZ(0px) scale(1) rotateZ(0deg);
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="box">
				<div class="box-page top animation"></div>
				<div class="box-page bottom"></div>
				<div class="box-page left"></div>
				<div class="box-page right"></div>
				<div class="box-page before"></div>
				<div class="box-page after"></div>
			</div>
		</div>
		<span id="musicControl">
			<a id="mc_play" class="on" onclick="play_music();">
				<audio id="musicfx" loop="loop" autoplay="autoplay">
					<source src="https://sharefs.yun.kugou.com/202005240128/51c22a6d8fff377650fbb71f24a63b6e/G077/M05/18/17/LZQEAFhLZkiAAzT-AE4Yy4ARImU727.mp3"
					 type="audio/mpeg">
				</audio>
			</a>
		</span>
	</body>
	<script>
		window.onload = function() {
			if (!is_weixn()) {
				just_play();
			} else{
				stop_music();
			}
		}
		var arr = document.querySelectorAll(".box>div")
		for (var a = 0; a < arr.length; a++) {
			for (var i = 0; i < 3; i++) {
				for (var j = 0; j < 3; j++) {
					var divs = document.createElement("div")
					divs.style.cssText = "width:100px;height:100px;border: 2px solid #fff;box-sizing: border-box;position: absolute;background-image: url(images/"+(a+1)+".png);background-size:300px 300px;"
					arr[a].appendChild(divs)
					divs.style.left = j * 100 + "px"
					divs.style.top = i * 100 + "px"
					divs.style.backgroundPositionX = -j * 100 + "px"
					divs.style.backgroundPositionY = -i * 100 + "px"
				}
			}
		}
	</script>
</html>
